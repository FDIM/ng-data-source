"use strict";!function(t){t.factory("dataSource",function(){function t(t){this.items=[],this.loading=!1,this.totalCount=0,this.callback=t,this.token=void 0,this.firstLoad=!0,this.load()}return t.prototype.load=function(){(this.token&&!this.loading||this.firstLoad)&&(this.loading=!0,this.firstLoad=!1,this.callback(this.token).then(angular.bind(this,t.prototype.onLoad))["finally"](angular.bind(this,t.prototype.cleanup)))},t.prototype.onLoad=function(t){this.token="undefined"!=typeof t.token?t.token:!1;for(var o=0;o<t.items.length;o++)this.items.push(t.items[o])},t.prototype.cleanup=function(){this.loading=!1},function(o){return new t(o)}})}(angular.module("data-source",[]));